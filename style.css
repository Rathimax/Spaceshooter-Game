/* ============================================================================
   SPACE SHOOTER - Retro Arcade Style CSS
   A clean, minimal retro aesthetic with neon accents
   ============================================================================ */

/* =========================
   CSS VARIABLES - Retro Palette
   ========================= */
:root {
    /* Core colors - Classic arcade neon */
    --neon-cyan: #00fff7;
    --neon-pink: #ff00ff;
    --neon-yellow: #ffd700;
    --neon-red: #ff3333;
    --neon-green: #00ff66;

    /* Background tones */
    --space-dark: #0a0a1a;
    --space-mid: #12122a;
    --space-light: #1a1a3a;

    /* UI colors */
    --text-primary: #ffffff;
    --text-dim: rgba(255, 255, 255, 0.6);
    --border-glow: rgba(0, 255, 247, 0.4);

    /* Typography */
    --font-main: 'Orbitron', 'Courier New', monospace;
}

/* =========================
   BASE STYLES
   ========================= */
* {
    box-sizing: border-box;
}

body {
    margin: 0;
    padding: 0;
    background: var(--space-dark);
    overflow: hidden;
    font-family: var(--font-main);
    color: var(--text-primary);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    -webkit-user-select: none;
    user-select: none;
    touch-action: none;
}

/* =========================
   PARALLAX STARFIELD - 3 Layers
   ========================= */

/* Layer 1: Distant slow stars (smallest, dimmest) */
body::before {
    content: '';
    position: fixed;
    inset: 0;
    background:
        radial-gradient(1px 1px at 10% 15%, rgba(255, 255, 255, 0.4) 50%, transparent),
        radial-gradient(1px 1px at 25% 35%, rgba(255, 255, 255, 0.3) 50%, transparent),
        radial-gradient(1px 1px at 40% 55%, rgba(255, 255, 255, 0.4) 50%, transparent),
        radial-gradient(1px 1px at 55% 75%, rgba(255, 255, 255, 0.3) 50%, transparent),
        radial-gradient(1px 1px at 70% 25%, rgba(255, 255, 255, 0.4) 50%, transparent),
        radial-gradient(1px 1px at 85% 45%, rgba(255, 255, 255, 0.3) 50%, transparent),
        radial-gradient(1px 1px at 15% 85%, rgba(255, 255, 255, 0.4) 50%, transparent),
        radial-gradient(1px 1px at 95% 65%, rgba(255, 255, 255, 0.3) 50%, transparent);
    background-size: 300px 300px;
    animation: stars-slow 120s linear infinite;
    z-index: -3;
}

/* Layer 2: Mid-range stars (medium size and brightness) */
body::after {
    content: '';
    position: fixed;
    inset: 0;
    background:
        radial-gradient(1.5px 1.5px at 5% 30%, rgba(255, 255, 255, 0.6) 50%, transparent),
        radial-gradient(1.5px 1.5px at 20% 60%, rgba(255, 255, 255, 0.5) 50%, transparent),
        radial-gradient(1.5px 1.5px at 35% 10%, rgba(255, 255, 255, 0.6) 50%, transparent),
        radial-gradient(1.5px 1.5px at 50% 80%, rgba(255, 255, 255, 0.5) 50%, transparent),
        radial-gradient(1.5px 1.5px at 65% 40%, rgba(255, 255, 255, 0.6) 50%, transparent),
        radial-gradient(1.5px 1.5px at 80% 70%, rgba(255, 255, 255, 0.5) 50%, transparent),
        radial-gradient(2px 2px at 45% 50%, var(--neon-cyan) 50%, transparent),
        radial-gradient(2px 2px at 75% 20%, var(--neon-pink) 50%, transparent);
    background-size: 200px 200px;
    animation: stars-medium 60s linear infinite;
    z-index: -2;
}

@keyframes stars-slow {
    from {
        background-position: 0 0;
    }

    to {
        background-position: 300px 600px;
    }
}

@keyframes stars-medium {
    from {
        background-position: 0 0;
    }

    to {
        background-position: 200px 400px;
    }
}

/* =========================
   GAME CONTAINER & BOARD
   ========================= */
#game-container {
    position: relative;
    width: 100vw;
    height: 100vh;
}

#board {
    position: absolute;
    width: 100%;
    height: 100%;
    overflow: hidden;
}

/* Desktop: contained game area with retro border */
@media (min-width: 700px) and (min-height: 600px) {
    #game-container {
        width: 95vw;
        height: 95vh;
        max-width: 700px;
        max-height: 850px;
    }

    #board {
        background: linear-gradient(180deg,
                rgba(10, 10, 30, 0.9) 0%,
                rgba(20, 20, 50, 0.8) 50%,
                rgba(10, 10, 30, 0.9) 100%);
        border: 3px solid var(--neon-cyan);
        border-radius: 20px;
        box-shadow:
            0 0 30px rgba(0, 255, 247, 0.3),
            inset 0 0 60px rgba(0, 0, 0, 0.5);
    }

    /* CRT scanline effect */
    #board::after {
        content: '';
        position: absolute;
        inset: 0;
        background: repeating-linear-gradient(0deg,
                transparent,
                transparent 2px,
                rgba(0, 0, 0, 0.1) 2px,
                rgba(0, 0, 0, 0.1) 4px);
        pointer-events: none;
        z-index: 999;
    }
}

/* =========================
   Z-INDEX LAYERS
   ========================= */
#jet {
    z-index: 10;
}

.bullets {
    z-index: 5;
}

.rocks {
    z-index: 6;
}

.boss-bullet {
    z-index: 15;
}

.homing-rocket {
    z-index: 8;
}

.laser-beam {
    z-index: 9;
}

#boss {
    z-index: 20;
}

.particle {
    z-index: 7;
}

#ui-layer {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 100;
}

#ui-layer>* {
    pointer-events: all;
}

/* =========================
   PLAYER SHIP
   ========================= */
#jet {
    position: absolute;
    left: 50%;
    bottom: 12%;
    transform: translateX(-50%);
    width: clamp(50px, 12vw, 65px);
    height: clamp(50px, 12vw, 65px);
    background: url("Rocket.png") no-repeat center;
    background-size: contain;
    transition: transform 0.15s ease-out;
    filter: drop-shadow(0 0 8px var(--neon-cyan));
}

#jet-flare {
    position: absolute;
    bottom: -20%;
    left: 50%;
    transform: translateX(-50%);
    width: 50%;
    height: 70%;
    background: radial-gradient(ellipse,
            rgba(255, 200, 100, 0.9) 0%,
            rgba(255, 100, 0, 0.6) 40%,
            transparent 70%);
    animation: engine-flicker 0.1s infinite;
}

@keyframes engine-flicker {

    0%,
    100% {
        opacity: 0.9;
        transform: translateX(-50%) scaleY(1);
    }

    50% {
        opacity: 1;
        transform: translateX(-50%) scaleY(1.1);
    }
}

.jet-charge {
    filter: drop-shadow(0 0 20px #fff) brightness(1.8) !important;
    animation: charge-pulse 0.2s infinite;
}

@keyframes charge-pulse {

    0%,
    100% {
        filter: drop-shadow(0 0 20px #fff) brightness(1.8);
    }

    50% {
        filter: drop-shadow(0 0 30px var(--neon-green)) brightness(2.2);
    }
}

.jet-destroyed {
    animation: ship-explode 1.5s ease-out forwards !important;
}

@keyframes ship-explode {
    0% {
        transform: translateX(-50%) rotate(0);
        opacity: 1;
    }

    30% {
        transform: translateX(-40%) rotate(-15deg) translateY(10vh);
    }

    60% {
        transform: translateX(-60%) rotate(20deg) translateY(40vh);
    }

    100% {
        transform: translateX(-50%) rotate(-10deg) translateY(100vh);
        opacity: 0;
    }
}

/* =========================
   BULLETS & PROJECTILES
   ========================= */
.bullets {
    position: absolute;
    width: 4px;
    height: 20px;
    background: linear-gradient(to top, transparent, var(--neon-cyan), #fff);
    border-radius: 2px;
    box-shadow: 0 0 10px var(--neon-cyan);
}

/* Weapon-specific bullet styles */
.bullet-laser {
    background: linear-gradient(to top, transparent, var(--neon-cyan), #fff);
    box-shadow: 0 0 10px var(--neon-cyan);
}

.bullet-plasma {
    background: radial-gradient(circle, #fff 20%, var(--neon-green) 60%, transparent 100%);
    box-shadow: 0 0 15px var(--neon-green), 0 0 25px var(--neon-green);
    border-radius: 50%;
}

.bullet-missile {
    background: linear-gradient(to top, var(--neon-orange), #fff, var(--neon-orange));
    box-shadow: 0 0 12px var(--neon-orange);
    border-radius: 3px 3px 1px 1px;
}

.bullet-missile::after {
    content: '';
    position: absolute;
    bottom: -8px;
    left: 50%;
    transform: translateX(-50%);
    width: 6px;
    height: 10px;
    background: radial-gradient(ellipse, rgba(255, 150, 50, 0.8), transparent);
}

/* Weapon HUD */
#weapon-hud {
    position: absolute;
    top: max(15px, env(safe-area-inset-top));
    right: max(15px, env(safe-area-inset-right));
    font-size: 0.8rem;
    color: var(--neon-cyan);
    text-shadow: 0 0 10px currentColor;
    font-weight: bold;
    padding: 5px 10px;
    border: 1px solid currentColor;
    border-radius: 4px;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(2px);
    z-index: 101;
}

.laser-beam {
    position: absolute;
    width: 8px;
    height: 100vh;
    background: linear-gradient(to top,
            transparent 0%,
            var(--neon-green) 5%,
            #fff 50%,
            var(--neon-green) 95%,
            transparent 100%);
    box-shadow: 0 0 20px var(--neon-green), 0 0 40px var(--neon-green);
    animation: beam-pulse 0.1s infinite;
}

@keyframes beam-pulse {

    0%,
    100% {
        opacity: 0.9;
        width: 8px;
    }

    50% {
        opacity: 1;
        width: 10px;
    }
}

.homing-rocket {
    position: absolute;
    width: 12px;
    height: 25px;
    background: linear-gradient(to top, var(--neon-yellow), #fff);
    border-radius: 6px 6px 2px 2px;
    box-shadow: 0 0 15px var(--neon-yellow);
}

.boss-bullet {
    position: absolute;
    width: 14px;
    height: 14px;
    background: radial-gradient(circle, #fff 20%, var(--neon-red) 60%, transparent 100%);
    border-radius: 50%;
    box-shadow: 0 0 15px var(--neon-red);
}

/* =========================
   ENEMIES (ALIENS)
   ========================= */
.rocks {
    position: absolute;
    width: clamp(45px, 11vw, 55px);
    height: clamp(45px, 11vw, 55px);
    background: url(alien.png) no-repeat center;
    background-size: contain;
    filter: drop-shadow(0 0 5px var(--neon-green));
}

.alien-2 {
    background-image: url(alien2.png) !important;
}

.alien-3 {
    background-image: url(alien3.png) !important;
}

.alien-zigzag {
    background-image: url(alien2.png) !important;
    filter: drop-shadow(0 0 8px #ff00ff) hue-rotate(45deg);
    animation: zigzag-pulse 0.5s ease-in-out infinite alternate;
}

@keyframes zigzag-pulse {
    from {
        filter: drop-shadow(0 0 5px #ff00ff) hue-rotate(45deg);
    }

    to {
        filter: drop-shadow(0 0 15px #ff00ff) hue-rotate(45deg) brightness(1.2);
    }
}

.rock-hit-effect {
    animation: alien-hit 0.1s ease-out;
}

@keyframes alien-hit {
    50% {
        filter: brightness(3) drop-shadow(0 0 10px #fff);
    }
}

/* =========================
   BOSS
   ========================= */
#boss {
    position: absolute;
    width: clamp(120px, 28vw, 150px);
    height: clamp(100px, 24vw, 120px);
    background: url(boss.png) no-repeat center;
    background-size: contain;
    filter: drop-shadow(0 0 25px var(--neon-red));
    top: -150px;
    transition: filter 0.1s;
}

.boss-hit-effect {
    filter: brightness(3) drop-shadow(0 0 40px #fff) !important;
}

#boss-health-container {
    position: absolute;
    top: 15px;
    left: 50%;
    transform: translateX(-50%);
    width: clamp(200px, 45%, 400px);
    height: 20px;
    background: rgba(0, 0, 0, 0.8);
    border: 2px solid var(--neon-red);
    border-radius: 2px;
    padding: 3px;
}

#boss-health-bar {
    height: 100%;
    background: linear-gradient(90deg, var(--neon-red), #ff6666);
    border-radius: 1px;
    transition: width 0.2s ease-out;
    box-shadow: 0 0 10px var(--neon-red);
}

#boss-alert {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 80%;
    max-width: 600px;
    height: 100px;
    background-image: url('boss-alert.png');
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
    z-index: 1000;
    pointer-events: none;
    animation: warning-blink 0.4s infinite;
}

@keyframes warning-blink {

    0%,
    49% {
        opacity: 1;
    }

    50%,
    100% {
        opacity: 0.3;
    }
}

/* =========================
   BOSS SPECIAL ABILITIES
   ========================= */
.boss-speed-boost {
    filter: drop-shadow(0 0 40px var(--neon-red)) brightness(1.6) !important;
    animation: rage-mode 0.15s infinite;
}

@keyframes rage-mode {

    0%,
    100% {
        transform: scale(1);
    }

    50% {
        transform: scale(1.03);
    }
}

.boss-attack-warning {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    font-size: clamp(1.2rem, 4vw, 1.8rem);
    font-weight: 700;
    color: var(--neon-red);
    text-shadow: 0 0 20px var(--neon-red);
    z-index: 500;
    animation: text-flash 0.3s infinite;
    text-transform: uppercase;
    letter-spacing: 3px;
}

@keyframes text-flash {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.5;
    }
}

.boss-beam-warning {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    z-index: 1000;
    background: rgba(50, 0, 0, 0.9);
    border: 3px solid var(--neon-red);
    padding: 30px 50px;
}

.boss-beam-warning-text {
    font-size: clamp(1rem, 3.5vw, 1.4rem);
    color: #fff;
    text-shadow: 0 0 10px var(--neon-red);
    margin-bottom: 15px;
    letter-spacing: 2px;
}

.boss-beam-countdown {
    font-size: clamp(4rem, 12vw, 6rem);
    font-weight: 700;
    color: var(--neon-red);
    text-shadow: 0 0 40px var(--neon-red);
    animation: countdown-beat 1s ease-in-out infinite;
}

@keyframes countdown-beat {

    0%,
    100% {
        transform: scale(1);
    }

    50% {
        transform: scale(1.15);
    }
}

.boss-beam-preview {
    position: absolute;
    width: 15px;
    height: 100vh;
    background: linear-gradient(to bottom, rgba(255, 50, 50, 0.7), transparent);
    z-index: 100;
    animation: preview-blink 0.4s infinite;
}

@keyframes preview-blink {

    0%,
    100% {
        opacity: 0.3;
    }

    50% {
        opacity: 0.8;
    }
}

.boss-beam {
    position: absolute;
    width: 40px;
    height: 100vh;
    background: linear-gradient(to bottom, #fff 0%, var(--neon-red) 20%, #ff6666 50%, var(--neon-red) 80%, transparent 100%);
    box-shadow: 0 0 50px var(--neon-red), 0 0 100px rgba(255, 50, 50, 0.5);
    z-index: 150;
}

.boss-beam-fade {
    animation: beam-disappear 0.3s ease-out forwards;
}

@keyframes beam-disappear {
    to {
        opacity: 0;
        transform: scaleX(0);
    }
}

/* =========================
   EFFECTS
   ========================= */
.particle {
    position: absolute;
    background: var(--neon-yellow);
    border-radius: 50%;
    animation: particle-fly 0.4s ease-out forwards;
}

@keyframes particle-fly {
    to {
        transform: translate(var(--x), var(--y)) scale(0);
        opacity: 0;
    }
}

.explode {
    background: url(explosion.png) no-repeat center !important;
    background-size: contain !important;
    animation: explosion 0.3s ease-out forwards;
}

@keyframes explosion {
    0% {
        transform: scale(1);
        opacity: 1;
    }

    100% {
        transform: scale(1.5);
        opacity: 0;
    }
}

.shake {
    animation: screen-shake 0.15s linear;
}

@keyframes screen-shake {

    0%,
    100% {
        transform: translate(0, 0);
    }

    25% {
        transform: translate(-3px, 1px);
    }

    75% {
        transform: translate(3px, -1px);
    }
}

/* =========================
   SHIELD EFFECT
   ========================= */
#shield-effect {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 140%;
    height: 140%;
    border-radius: 50%;
    border: 3px solid var(--neon-cyan);
    box-shadow: 0 0 25px var(--neon-cyan), inset 0 0 20px rgba(0, 255, 247, 0.3);
    animation: shield-pulse 1s infinite;
}

@keyframes shield-pulse {

    0%,
    100% {
        transform: translate(-50%, -50%) scale(1);
        opacity: 0.8;
    }

    50% {
        transform: translate(-50%, -50%) scale(1.05);
        opacity: 1;
    }
}

/* =========================
   POWER-UP DROPS
   ========================= */
.powerup-drop {
    position: absolute;
    width: clamp(30px, 7vw, 38px);
    height: clamp(30px, 7vw, 38px);
    z-index: 8;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.3rem;
    border: 2px solid #fff;
    animation: powerup-bob 0.6s ease-in-out infinite alternate;
}

@keyframes powerup-bob {
    from {
        transform: translateY(0);
    }

    to {
        transform: translateY(-8px);
    }
}

.shield-powerup {
    background: var(--neon-cyan);
    box-shadow: 0 0 15px var(--neon-cyan);
}

.rapid-fire-powerup {
    background: var(--neon-pink);
    box-shadow: 0 0 15px var(--neon-pink);
}

.spread-shot-powerup {
    background: var(--neon-green);
    box-shadow: 0 0 15px var(--neon-green);
}

.life-up-powerup {
    background: var(--neon-red);
    box-shadow: 0 0 15px var(--neon-red);
}

/* =========================
   POWER-UP STATUS BARS
   ========================= */
#powerup-bars-container {
    position: absolute;
    top: 15px;
    right: 15px;
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.powerup-bar {
    background: rgba(0, 0, 0, 0.8);
    border: 2px solid;
    padding: 6px 12px;
    min-width: 150px;
    animation: bar-appear 0.2s ease-out;
}

@keyframes bar-appear {
    from {
        opacity: 0;
        transform: translateX(20px);
    }

    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.powerup-bar-name {
    font-size: 0.75rem;
    margin-bottom: 4px;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.powerup-bar-timer {
    height: 4px;
    background: rgba(255, 255, 255, 0.2);
}

.powerup-bar-progress {
    height: 100%;
    background: #fff;
}

/* =========================
   GAME HEADER (STATS)
   ========================= */
#game-header {
    position: absolute;
    top: max(15px, env(safe-area-inset-top));
    left: max(15px, env(safe-area-inset-left));
    display: flex;
    flex-direction: column;
    gap: 5px;
    background: rgba(0, 0, 0, 0.4);
    padding: 8px;
    border-radius: 8px;
    backdrop-filter: blur(2px);
}

#score,
#lives,
#wave-display {
    font-size: clamp(0.9rem, 3.5vw, 1.3rem);
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 2px;
    text-shadow: 0 0 10px var(--neon-cyan);
}

#points {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: clamp(6rem, 20vw, 10rem);
    font-weight: 700;
    color: #fff;
    opacity: 0.03;
    pointer-events: none;
    z-index: 1;
}

/* =========================
   SETTINGS BUTTON & MENU
   ========================= */
.settings-button {
    padding: 10px 25px;
    font-size: 0.9rem;
    font-family: var(--font-main);
    cursor: pointer;
    border: 2px solid var(--neon-cyan);
    background: transparent;
    color: var(--neon-cyan);
    text-transform: uppercase;
    letter-spacing: 1px;
    transition: all 0.2s;
    margin-top: 15px;
    border-radius: 8px;
}

.settings-button:hover {
    background: var(--neon-cyan);
    color: var(--space-dark);
    box-shadow: 0 0 15px var(--neon-cyan);
}

#settings-screen {
    display: none;
}

#settings-screen.active {
    display: flex;
}

.settings-grid {
    display: flex;
    flex-direction: column;
    gap: 15px;
    width: 100%;
    margin-top: 10px;
}

.setting-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 15px;
    background: rgba(0, 0, 0, 0.4);
    border-radius: 8px;
    border: 1px solid rgba(0, 255, 247, 0.2);
}

.setting-label {
    font-size: 0.9rem;
    color: var(--text-dim);
}

.setting-toggle {
    width: 50px;
    height: 26px;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 13px;
    border: none;
    cursor: pointer;
    position: relative;
    transition: background 0.2s;
}

.setting-toggle::after {
    content: '';
    position: absolute;
    top: 3px;
    left: 3px;
    width: 20px;
    height: 20px;
    background: #fff;
    border-radius: 50%;
    transition: transform 0.2s;
}

.setting-toggle.active {
    background: var(--neon-green);
}

.setting-toggle.active::after {
    transform: translateX(24px);
}

.back-button {
    padding: 10px 30px;
    font-size: 0.9rem;
    font-family: var(--font-main);
    cursor: pointer;
    border: 2px solid var(--neon-cyan);
    background: transparent;
    color: var(--neon-cyan);
    text-transform: uppercase;
    letter-spacing: 1px;
    transition: all 0.2s;
    margin-top: 20px;
    border-radius: 8px;
}

.back-button:hover {
    background: var(--neon-cyan);
    color: var(--space-dark);
}

/* =========================
   SCREENS (START, PAUSE, END)
   ========================= */
.screen {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 1001;
    width: 85%;
    max-width: 380px;
    max-height: 85%;
    overflow-y: auto;
    padding: clamp(20px, 4vh, 30px);
    background: rgba(10, 10, 30, 0.95);
    border: 3px solid var(--neon-cyan);
    border-radius: 16px;
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: clamp(15px, 3vh, 25px);
}

.screen h2 {
    margin: 0;
    font-size: clamp(2rem, 8vw, 3rem);
    color: var(--neon-cyan);
    text-shadow: 0 0 30px var(--neon-cyan);
    text-transform: uppercase;
    letter-spacing: 4px;
}

.screen p {
    color: var(--text-dim);
    margin: 0;
    font-size: clamp(0.9rem, 3.5vw, 1.1rem);
}

.high-score-text {
    color: var(--neon-yellow) !important;
    text-shadow: 0 0 10px var(--neon-yellow);
}

.difficulty-buttons {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
    justify-content: center;
}

.screen button {
    padding: 12px 30px;
    font-size: clamp(0.9rem, 3.5vw, 1.1rem);
    font-family: var(--font-main);
    cursor: pointer;
    border: 2px solid var(--neon-cyan);
    background: transparent;
    color: var(--neon-cyan);
    text-transform: uppercase;
    letter-spacing: 2px;
    transition: all 0.2s;
}

.screen button:hover {
    background: var(--neon-cyan);
    color: var(--space-dark);
    box-shadow: 0 0 25px var(--neon-cyan);
}

/* =========================
   DESKTOP INSTRUCTIONS
   ========================= */
#start-screen #desktop-instructions {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px 20px;
    font-size: 0.8rem;
    opacity: 0.7;
    margin-top: 10px;
}

#desktop-instructions span {
    color: var(--neon-cyan);
    font-weight: 700;
}

/* =========================
   DESKTOP ABILITIES UI
   ========================= */
#desktop-abilities {
    position: absolute;
    bottom: 15px;
    left: 15px;
    display: none;
    flex-direction: column;
    gap: 8px;
}

.powerup {
    display: none;
    align-items: center;
    background: rgba(0, 0, 0, 0.8);
    padding: 6px 10px;
    border: 1px solid var(--neon-green);
}

.powerup.visible {
    display: flex;
}

.powerup-key {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--space-dark);
    background: var(--neon-green);
    padding: 2px 8px;
    margin-right: 10px;
}

.powerup-status {
    font-size: 0.85rem;
    color: var(--neon-green);
    text-transform: uppercase;
    letter-spacing: 1px;
}

.powerup.on-cooldown {
    border-color: #444;
}

.powerup.on-cooldown .powerup-key {
    background: #444;
    color: #888;
}

.powerup.on-cooldown .powerup-status {
    color: #888;
}

/* =========================
   TOUCH CONTROLS (MOBILE)
   ========================= */
#touch-controls {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    padding: 4vw;
    padding-bottom: max(80px, env(safe-area-inset-bottom));
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    z-index: 200;
}

.right-controls {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 12px;
}

#fire-button {
    width: clamp(70px, 18vw, 85px);
    height: clamp(70px, 18vw, 85px);
    background: url(https://i.imgur.com/79b7YJ1.png) no-repeat center;
    background-size: 55%;
    background-color: var(--neon-red);
    border: 3px solid #fff;
    border-radius: 50%;
    box-shadow: 0 0 20px var(--neon-red);
    touch-action: none;
}

#fire-button:active {
    transform: scale(0.95);
    box-shadow: 0 0 30px var(--neon-red);
}

.mobile-pause-button {
    font-size: clamp(1.3rem, 5vw, 1.8rem);
    font-family: var(--font-main);
    width: clamp(45px, 11vw, 55px);
    height: clamp(45px, 11vw, 55px);
    border-radius: 50%;
    border: 2px solid var(--neon-cyan);
    color: var(--neon-cyan);
    background: rgba(0, 0, 0, 0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    touch-action: none;
}

.powerup-touch-controls {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.powerup-button {
    font-size: clamp(1.8rem, 7vw, 2.2rem);
    font-family: var(--font-main);
    width: clamp(55px, 13vw, 65px);
    height: clamp(55px, 13vw, 65px);
    border-radius: 50%;
    border: 2px solid #444;
    color: #444;
    background: rgba(0, 0, 0, 0.7);
    transition: all 0.2s;
}

.powerup-button:not(:disabled) {
    border-color: var(--neon-green);
    color: var(--neon-green);
    box-shadow: 0 0 15px var(--neon-green);
    animation: ready-pulse 1s infinite;
}

@keyframes ready-pulse {

    0%,
    100% {
        box-shadow: 0 0 15px var(--neon-green);
    }

    50% {
        box-shadow: 0 0 30px var(--neon-green);
    }
}

/* =========================
   JOYSTICK
   ========================= */
#joystick-container {
    position: relative;
    width: clamp(110px, 28vw, 130px);
    height: clamp(110px, 28vw, 130px);
    touch-action: none;
}

#joystick-base {
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: rgba(0, 0, 0, 0.8);
    border: 3px solid var(--neon-cyan);
    box-shadow: 0 0 30px rgba(0, 255, 247, 0.4);
}

#joystick-stick {
    position: absolute;
    width: 45%;
    height: 45%;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    border-radius: 50%;
    background: radial-gradient(circle, var(--neon-cyan) 0%, rgba(0, 200, 200, 0.8) 100%);
    border: 2px solid #fff;
    box-shadow: 0 0 15px var(--neon-cyan);
    transition: transform 0.08s ease-out;
    pointer-events: none;
}

/* =========================
   RESPONSIVE
   ========================= */
@media (min-width: 768px) {
    #touch-controls {
        display: none !important;
    }
}

@media (max-width: 767px) {

    #desktop-instructions,
    #desktop-abilities {
        display: none !important;
    }

    #powerup-bars-container {
        right: 8px;
        top: 55px;
    }

    .powerup-bar {
        min-width: 120px;
        padding: 4px 8px;
    }

    .powerup-bar-name {
        font-size: 0.65rem;
    }
}

/* =========================
   TUTORIAL OVERLAY
   ========================= */
#tutorial-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.9);
    z-index: 2000;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
}

.tutorial-content {
    background: rgba(10, 10, 30, 0.98);
    border: 3px solid var(--neon-cyan);
    border-radius: 16px;
    padding: 30px;
    max-width: 400px;
    width: 100%;
    text-align: center;
}

.tutorial-content h2 {
    color: var(--neon-cyan);
    text-shadow: 0 0 20px var(--neon-cyan);
    margin: 0 0 20px 0;
    font-size: 1.8rem;
}

.tutorial-content h3 {
    color: var(--neon-yellow);
    margin: 15px 0 10px 0;
    font-size: 1.1rem;
}

.tutorial-section {
    text-align: left;
    margin: 15px 0;
}

.tutorial-controls {
    display: grid;
    gap: 8px;
}

.tutorial-controls div {
    color: var(--text-dim);
    font-size: 0.9rem;
}

.key {
    background: rgba(0, 255, 247, 0.2);
    border: 1px solid var(--neon-cyan);
    padding: 3px 8px;
    border-radius: 4px;
    color: var(--neon-cyan);
    font-family: monospace;
    font-size: 0.8rem;
}

.tutorial-content ul {
    margin: 0;
    padding-left: 20px;
    color: var(--text-dim);
    font-size: 0.9rem;
}

.tutorial-content ul li {
    margin: 5px 0;
}

.tutorial-content button {
    margin-top: 20px;
    padding: 12px 40px;
    font-size: 1rem;
    font-family: var(--font-main);
    cursor: pointer;
    border: 2px solid var(--neon-green);
    background: transparent;
    color: var(--neon-green);
    text-transform: uppercase;
    letter-spacing: 2px;
    border-radius: 8px;
    transition: all 0.2s;
}

.tutorial-content button:hover {
    background: var(--neon-green);
    color: var(--space-dark);
}

.tutorial-checkbox {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 8px;
    margin-top: 15px;
    color: var(--text-dim);
    font-size: 0.8rem;
    cursor: pointer;
}

.tutorial-checkbox input {
    accent-color: var(--neon-cyan);
}

/* =========================
   PAUSE MENU BUTTONS
   ========================= */
.pause-menu-buttons {
    display: flex;
    flex-direction: column;
    gap: 12px;
    width: 100%;
    max-width: 200px;
}

.pause-hint {
    font-size: 0.75rem !important;
    opacity: 0.6;
    margin-top: 10px !important;
}

/* =========================
   SHOP SCREEN
   ========================= */
.shop-button {
    margin-top: 10px;
    padding: 10px 20px;
    font-size: 0.9rem;
    font-family: var(--font-main);
    background: rgba(255, 200, 50, 0.2);
    border: 2px solid var(--neon-yellow);
    color: var(--neon-yellow);
    cursor: pointer;
    border-radius: 8px;
    transition: all 0.2s;
}

.shop-button:hover {
    background: var(--neon-yellow);
    color: var(--space-dark);
}

.shop-coins {
    font-size: 1.5rem;
    color: var(--neon-yellow);
    text-shadow: 0 0 15px var(--neon-yellow);
    margin-bottom: 15px;
}

.shop-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    width: 100%;
}

.shop-item {
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid var(--neon-cyan);
    border-radius: 8px;
    padding: 12px;
    text-align: center;
}

.item-name {
    font-size: 0.9rem;
    color: var(--text-primary);
    margin-bottom: 4px;
}

.item-desc {
    font-size: 0.7rem;
    color: var(--text-dim);
    margin-bottom: 8px;
}

.item-level {
    font-size: 0.75rem;
    color: var(--neon-green);
    margin-bottom: 8px;
}

.shop-item button {
    width: 100%;
    padding: 8px;
    font-size: 0.8rem;
    font-family: var(--font-main);
    background: rgba(0, 255, 247, 0.2);
    border: 1px solid var(--neon-cyan);
    color: var(--neon-cyan);
    cursor: pointer;
    border-radius: 4px;
    transition: all 0.2s;
}

.shop-item button:hover:not(:disabled) {
    background: var(--neon-cyan);
    color: var(--space-dark);
}

.shop-item button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

.shop-item button.maxed {
    background: rgba(0, 255, 100, 0.3);
    border-color: var(--neon-green);
    color: var(--neon-green);
}

.shop-item button.affordable {
    animation: pulse-affordable 1s ease-in-out infinite;
}

@keyframes pulse-affordable {

    0%,
    100% {
        box-shadow: 0 0 5px var(--neon-cyan);
    }

    50% {
        box-shadow: 0 0 15px var(--neon-cyan);
    }
}

.floating-text {
    position: absolute;
    color: #fff;
    font-size: 1.2rem;
    font-weight: bold;
    text-shadow: 0 0 5px var(--neon-cyan);
    animation: float-up 1s ease-out forwards;
    pointer-events: none;
    z-index: 1000;
}

@keyframes float-up {
    to {
        transform: translateY(-50px);
        opacity: 0;
    }
}